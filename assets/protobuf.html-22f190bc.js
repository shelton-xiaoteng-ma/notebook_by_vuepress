import{_ as n,Y as a,Z as s,a0 as e,a1 as o,a2 as t,a4 as l,E as i}from"./framework-957baa9a.js";const u={},c=e("h1",{id:"protobuf",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#protobuf","aria-hidden":"true"},"#"),o(" Protobuf")],-1),p=e("h2",{id:"_1-介绍",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-介绍","aria-hidden":"true"},"#"),o(" 1. 介绍")],-1),d=e("p",null,[o("Protobuf（Protocol Buffers），是 Google 开发的一种跨语言、跨平台的可扩展机制，用于序列化结构化数据。"),e("br"),o(" 与 XML 和 JSON 格式相比，protobuf 更小、更快、更便捷。protobuf 目前支持 C++、Java、Python、Objective-C，如果使用 proto3，还支持 C#、Ruby、Go、PHP、JavaScript 等语言。")],-1),h={href:"https://github.com/protocolbuffers/protobuf",target:"_blank",rel:"noopener noreferrer"},f=e("ol",null,[e("li",null,[o("优点： "),e("ol",null,[e("li",null,"性能好, 序列化和反序列化快, 占用空间小"),e("li",null,"跨语言")])]),e("li",null,[o("缺点： "),e("ol",null,[e("li",null,"二进制格式可读性差：为了提高性能，protobuf 采用了二进制格式进行编码，这直接导致了可读性差。"),e("li",null,"缺乏自描述: XML 是自描述的，而 protobuf 不是，不配合定义的结构体是看不出来什么作用的。")])])],-1),b=e("h2",{id:"_2-使用",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-使用","aria-hidden":"true"},"#"),o(" 2. 使用")],-1),_={href:"https://github.com/protocolbuffers/protobuf/releases/latest",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/maxiaoteng001/xiaoteng_demo/tree/master/src/protobuf/mercari_jp",target:"_blank",rel:"noopener noreferrer"},v=l(`<li><p>常用命令:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 生成python模版</span>
protoc <span class="token parameter variable">--python_out</span><span class="token operator">=</span>. mercari_search_request.proto
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>在推测proto文件时, 可以尝试修改请求headers的<code>&quot;accept&quot;: &quot;application/protobuf&quot;,</code>修改为<code>&quot;accept&quot;: &quot;application/json&quot;,</code>, 如果能正常返回json格式的数据, 可以直接使用, 也可以转换, 避免后续服务器禁用json格式的响应</p></li>`,2),g=e("h3",{id:"preview-protobuf-request-by-charles",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#preview-protobuf-request-by-charles","aria-hidden":"true"},"#"),o(" Preview protobuf request by charles")],-1),k=e("p",null,[o("Charles supports preview protobuf default, however somehow, some responses are not correctly recognized as protobuf, so parsing mode needs to be manually specified. "),e("code",null,"right click on your request, View Response As, Protocol Buffers")],-1),w=e("h3",{id:"参考文档",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#参考文档","aria-hidden":"true"},"#"),o(" 参考文档")],-1),x={href:"https://protobuf.dev/overview/",target:"_blank",rel:"noopener noreferrer"},q={href:"https://protobuf.dev/reference/python/python-generated/",target:"_blank",rel:"noopener noreferrer"},y={href:"https://stackoverflow.com/questions/18376190/attributeerror-assignment-not-allowed-to-composite-field-task-in-protocol-mes",target:"_blank",rel:"noopener noreferrer"},P={href:"https://www.yuanrenxue.cn/app-crawl/parse-protobuf.html",target:"_blank",rel:"noopener noreferrer"};function j(C,B){const r=i("ExternalLinkIcon");return a(),s("div",null,[c,p,d,e("ul",null,[e("li",null,[o("GitHub 地址："),e("a",h,[o("https://github.com/protocolbuffers/protobuf"),t(r)])])]),f,b,e("ol",null,[e("li",null,[e("p",null,[e("a",_,[o("下载protobuf"),t(r)])])]),e("li",null,[e("p",null,[o("demo 参考: "),e("a",m,[o("mercari jp"),t(r)])])]),v]),g,k,w,e("ul",null,[e("li",null,[o("官网地址："),e("a",x,[o("https://protobuf.dev/overview/"),t(r)])]),e("li",null,[e("a",q,[o("Python Generated Code Guide"),t(r)])]),e("li",null,[e("a",y,[o("nesting or submessage"),t(r)])]),e("li",null,[e("a",P,[o("Protobuf协议逆向解析-APP爬虫"),t(r)])])])])}const N=n(u,[["render",j],["__file","protobuf.html.vue"]]);export{N as default};
