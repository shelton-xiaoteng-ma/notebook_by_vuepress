import{_ as s,Y as c,Z as d,$ as l,a0 as e,a1 as t,a2 as r,a3 as i,a4 as h,E as o}from"./framework-957baa9a.js";const _={},u=e("h1",{id:"by-pass-cloudflare",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#by-pass-cloudflare","aria-hidden":"true"},"#"),t(" By Pass Cloudflare")],-1),f=e("p",null,"绕过Cloudflare护盾",-1),p=e("p",null,"越来越多网站接入Cloudflare, 反爬终于实现了标准化, 并得到很好的复用, 这里整理一下解决方案",-1),m=e("p",null,"根据Cloudflare反爬思路, 大概分为两种, 一是检测浏览器环境, 要求执行js验证环境后放行, 另一类是验证TLS指纹和HTTP/2指纹",-1),b=e("h2",{id:"验证浏览器环境",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#验证浏览器环境","aria-hidden":"true"},"#"),t(" 验证浏览器环境")],-1),w={href:"https://www.indeed.com/jobs",target:"_blank",rel:"noopener noreferrer"},g={href:"https://www.indeed.com/jobs?q=&l=San+Antonio%2C+TX&from=searchOnHP&vjk=b40c51521578cf9a",target:"_blank",rel:"noopener noreferrer"},k=e("p",null,[t("使用requests直接请求返回"),e("code",null,"403")],-1),x=e("p",null,[t("提示: "),e("code",null,"This website is using a security service to protect itself from online attacks. The action you just performed triggered the security solution. There are several actions that could trigger this block including submitting a certain word or phrase, a SQL command or malformed data.")],-1),y={href:"https://github.com/ultrafunkamsterdam/undetected-chromedriver.git",target:"_blank",rel:"noopener noreferrer"},T=e("h2",{id:"验证tls指纹和http-2指纹",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#验证tls指纹和http-2指纹","aria-hidden":"true"},"#"),t(" 验证TLS指纹和HTTP/2指纹")],-1),v={href:"https://www.marinetraffic.com/en/ais/home/centerx:-118.3/centery:33.6/zoom:10",target:"_blank",rel:"noopener noreferrer"},C={href:"https://www.marinetraffic.com/getData/get_data_json_4/z:12/X:351/Y:819/station:0",target:"_blank",rel:"noopener noreferrer"},j=h('<h3 id="现象" tabindex="-1"><a class="header-anchor" href="#现象" aria-hidden="true">#</a> 现象</h3><p>发现网站引入Cloudflare之后, 请求返回403</p><p>尝试使用完整的cookie和headers不行</p><p>同一个请求在charles中重复发送可以, 通过copy curl之后控制台就失败, 抓包对比看不出明显区别, 最终在</p><h3 id="分析" tabindex="-1"><a class="header-anchor" href="#分析" aria-hidden="true">#</a> 分析</h3><h3 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案" aria-hidden="true">#</a> 解决方案</h3>',6);function L(S,N){const a=o("ExternalLinkIcon"),n=o("RouterLink");return c(),d("div",null,[u,f,p,m,l(" more "),b,e("p",null,[t("代表网站"),e("a",w,[t("Indeed Us"),r(a)])]),e("p",null,[t("url: "),e("a",g,[t("https://www.indeed.com/jobs?q=&l=San+Antonio%2C+TX&from=searchOnHP&vjk=b40c51521578cf9a"),r(a)])]),k,x,e("p",null,[t("因为需要的数据直接由html返回, 所以考虑使用模拟浏览器的方式拿到数据, 这里使用"),e("a",y,[t("undetected chromedriver"),r(a)]),t("是能够直接使用的")]),e("blockquote",null,[e("p",null,[r(n,{to:"/python/python_crawler/browser_automation.html"},{default:i(()=>[t("undetected chromedriver的原理和使用参考")]),_:1})])]),T,e("p",null,[t("代表网站: "),e("a",v,[t("marinetraffic"),r(a)]),t(", 目标请求: "),e("a",C,[t("https://www.marinetraffic.com/getData/get_data_json_4/z:12/X:351/Y:819/station:0"),r(a)])]),j])}const V=s(_,[["render",L],["__file","by_pass_cloudflare.html.vue"]]);export{V as default};
