import{_ as s,Y as n,Z as a,a4 as t}from"./framework-957baa9a.js";const o={},p=t(`<h1 id="git-进阶" tabindex="-1"><a class="header-anchor" href="#git-进阶" aria-hidden="true">#</a> git 进阶</h1><h2 id="git-与-hooks" tabindex="-1"><a class="header-anchor" href="#git-与-hooks" aria-hidden="true">#</a> git 与 hooks</h2><p>git 在执行特定的重要动作时能触发自定义的脚本，包含客户端和服务端。 客户端钩子由诸如提交和合并这样的操作所调用， 服务器端的钩子作用于诸如接收被推送的提交这样的联网操作。 你可以随心所欲地运用这些钩子。<br> hooks目录： .git/hooks<br> 可以执行shell脚本， 以及Perl，Python和Ruby等</p><h2 id="webhooks" tabindex="-1"><a class="header-anchor" href="#webhooks" aria-hidden="true">#</a> webhooks</h2><p>在用户push了代码之后， 自动回调一个你设定的http地址. 这是一个通用的解决方案, 可以根据需求来编写自己的脚本(比如发邮件,自动部署等)</p><p>webhooks的请求方式是POST，body可以是JSON和formdata, 注意其中的密码是明文</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;before&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fb32ef5812dc132ece716a05c50c7531c6dc1b4d&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;after&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ac63b9ba95191a1bf79d60bc262851a66c12cda1&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;ref&quot;</span><span class="token operator">:</span> <span class="token string">&quot;refs/heads/master&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test123&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://gitee.com/oschina&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webhook&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://git.oschina.net/oschina/webhook&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://gitee.com/oschina/webhook&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;commits&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ac63b9ba95191a1bf79d60bc262851a66c12cda1&quot;</span><span class="token punctuation">,</span> 
            <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1234 bug fix&quot;</span><span class="token punctuation">,</span> 
            <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2016-12-09T17:28:02 08:00&quot;</span><span class="token punctuation">,</span> 
            <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://gitee.com/oschina/webhook/commit/ac63b9ba95191a1bf79d60bc262851a66c12cda1&quot;</span><span class="token punctuation">,</span> 
            <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span> 
                <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123@123.com&quot;</span><span class="token punctuation">,</span> 
                <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2016-12-09T17:28:02 08:00&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;total_commits_count&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;commits_more_than_ten&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;project&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webhook&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webhook&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://gitee.com/oschina/webhook&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;git_ssh_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git@gitee.com:oschina/webhook.git&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;git_http_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://gitee.com/oschina/webhook.git&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;git_svn_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;svn://gitee.com/oschina/webhook&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;namespace&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oschina&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;name_with_namespace&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oschina/webhook&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;path_with_namespace&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oschina/webhook&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;default_branch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;master&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;hook_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;push_hooks&quot;</span><span class="token punctuation">,</span> 
    <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pwd&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),e=[p];function c(u,i){return n(),a("div",null,e)}const l=s(o,[["render",c],["__file","git-advanced.html.vue"]]);export{l as default};
