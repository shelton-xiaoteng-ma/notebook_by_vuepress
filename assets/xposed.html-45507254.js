import{_ as o,Y as p,Z as l,a0 as n,a1 as a,a2 as t,a4 as s,E as c}from"./framework-957baa9a.js";const i={},u=s('<h1 id="xposed" tabindex="-1"><a class="header-anchor" href="#xposed" aria-hidden="true">#</a> Xposed</h1><h2 id="_1-安装" tabindex="-1"><a class="header-anchor" href="#_1-安装" aria-hidden="true">#</a> 1.安装</h2><h2 id="_2-项目编写说明" tabindex="-1"><a class="header-anchor" href="#_2-项目编写说明" aria-hidden="true">#</a> 2. 项目编写说明</h2>',3),r={href:"https://github.com/maxiaoteng001/xposeds",target:"_blank",rel:"noopener noreferrer"},d=n("br",null,null,-1),k={href:"https://github.com/maxiaoteng001/xiaoteng_demo.git",target:"_blank",rel:"noopener noreferrer"},m=s(`<li><p>Android studio开始一个android项目</p></li><li><p>添加xposed api <code>app/build.gradle</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>repositories <span class="token punctuation">{</span>
    <span class="token function">jcenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
dependencies <span class="token punctuation">{</span>
    compileOnly &#39;de<span class="token punctuation">.</span>robv<span class="token punctuation">.</span>android<span class="token punctuation">.</span>xposed<span class="token operator">:</span>api<span class="token operator">:</span><span class="token number">82</span>&#39;
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>设置属性<code>app/mainfests/AndroidManifest.xml</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>
<span class="token attr-name"><span class="token namespace">android:</span>icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/ic_launcher<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/app_name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 补充如下 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>
    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xposedmodule<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>
    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xposeddescription<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Easy example which makes the status bar clock red and adds a smiley<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>
    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xposedminversion<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>53<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>`,3),v=n("p",null,"hook demo",-1),b=n("li",null,[a("input和output见"),n("code",null,"app/src/main/java/com/example/xposed_demo/HookNineBot.java")],-1),h={href:"https://github.com/virjar/sekiro",target:"_blank",rel:"noopener noreferrer"},g=n("code",null,"app/src/main/java/com/example/xposed_demo/HookNineBotSekiro.java",-1),_=n("ol",null,[n("li",null,[a("服务端直接启动即可, 请求参考: "),n("code",null,"http://192.168.2.141:5601/asyncInvoke?group=ninebot&action=checkcode&query=origin_str")]),n("li",null,"在配置sekiro服务时, 尽量使用post请求发送参数(get参数可能有编码和长度限制问题, post也更直观, sekiro对post和get参数做了聚合, 可以直接提取), 参考QQmusicSekiro")],-1),x=s(`<li>关于sekiro更新 <ol><li><p>官方更新了新的demo, 环境待确认</p></li><li><p>旧服务使用方式:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/virjar/sekiro
<span class="token function">git</span> checkout 87a244f93878e587aeee3c05cd61c82dce73e82b
<span class="token comment"># 将runProd.sh中更新代码部分注释掉</span>
<span class="token builtin class-name">cd</span> /<span class="token punctuation">..</span>/sekiro <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> runProd.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li>`,1),f=n("li",null,[n("p",null,"指定生效的Xposed模块"),n("ol",null,[n("li",null,[a("创建文件"),n("code",null,"app/src/main/images/xposed_init")]),n("li",null,[a("内容"),n("code",null,"com.example.xposedhook.HookNineBot")]),n("li",null,"一个app可以支持多个模块, 直接在下方追加即可")])],-1),q=n("p",null,"补充",-1),E=s(`<li><p>使用<code>import com.alibaba.fastjson.JSON;</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> app<span class="token operator">/</span>build<span class="token punctuation">.</span>gradle <span class="token operator">--</span><span class="token operator">&gt;</span>
implementation &#39;com<span class="token punctuation">.</span>alibaba<span class="token operator">:</span>fastjson<span class="token operator">:</span><span class="token number">1.1</span><span class="token number">.54</span><span class="token punctuation">.</span>android&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>app的一些属性修改<code>app/src/main/res/values/strings.xml</code></p></li>`,2),j=n("p",null,[a("报错"),n("code",null,"More than one file was found with OS independent path 'META-INF/LICENSE'")],-1),N={href:"https://stackoverflow.com/questions/44342455/more-than-one-file-was-found-with-os-independent-path-meta-inf-license",target:"_blank",rel:"noopener noreferrer"},I=s(`<li><p><code>app/build.gradle</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>buildTypes <span class="token punctuation">{</span>
    release <span class="token punctuation">{</span>
        minifyEnabled <span class="token boolean">false</span>
        proguardFiles <span class="token function">getDefaultProguardFile</span><span class="token punctuation">(</span>&#39;proguard<span class="token operator">-</span>android<span class="token operator">-</span>optimize<span class="token punctuation">.</span>txt<span class="token char">&#39;), &#39;</span>proguard<span class="token operator">-</span>rules<span class="token punctuation">.</span>pro&#39;
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 添加以下 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
packagingOptions <span class="token punctuation">{</span>
    exclude &#39;<span class="token constant">META</span><span class="token operator">-</span><span class="token constant">INF</span><span class="token operator">/</span><span class="token constant">DEPENDENCIES</span>&#39;
    exclude &#39;<span class="token constant">META</span><span class="token operator">-</span><span class="token constant">INF</span><span class="token operator">/</span><span class="token constant">INDEX</span><span class="token punctuation">.</span><span class="token constant">LIST</span>&#39;
    exclude <span class="token punctuation">(</span>&#39;<span class="token constant">META</span><span class="token operator">-</span><span class="token constant">INF</span><span class="token operator">/</span>io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>properties&#39;<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>`,1);function S(w,y){const e=c("ExternalLinkIcon");return p(),l("div",null,[u,n("p",null,[n("a",r,[a("见项目xposeds"),t(e)]),d,n("a",k,[a("demo见项目xposed_demo"),t(e)])]),n("ol",null,[m,n("li",null,[v,n("ol",null,[b,n("li",null,[a("hook 调用so, 考虑集成"),n("a",h,[a("sekiro"),t(e)]),a(", demo见"),g,_]),x])]),f,n("li",null,[q,n("ol",null,[E,n("li",null,[j,n("ol",null,[n("li",null,[n("p",null,[a("参考: "),n("a",N,[a("More than one file was found with OS independent path 'META-INF/LICENSE"),t(e)])])]),I])])])])])])}const T=o(i,[["render",S],["__file","xposed.html.vue"]]);export{T as default};
